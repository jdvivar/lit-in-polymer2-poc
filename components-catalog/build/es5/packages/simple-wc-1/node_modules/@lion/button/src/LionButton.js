define(["exports","../../core/index.js","../../core/src/LionLitElement.js"],function(_exports,_index,_LionLitElement){"use strict";Object.defineProperty(_exports,"__esModule",{value:!0});_exports.LionButton=void 0;function _templateObject4_3e706b50daed11e9a5da410a63411485(){var data=babelHelpers.taggedTemplateLiteral(["\n        :host {\n          display: inline-block;\n          padding-top: 2px;\n          padding-bottom: 2px;\n          min-height: 40px; /* src = https://www.smashingmagazine.com/2012/02/finger-friendly-design-ideal-mobile-touchscreen-target-sizes/ */\n          outline: 0;\n          background-color: transparent;\n          box-sizing: border-box;\n        }\n\n        .btn {\n          min-height: 24px;\n          display: flex;\n          align-items: center;\n          position: relative;\n          background: #eee; /* minimal styling to make it recognizable as btn */\n          padding: 7px 15px;\n          outline: none; /* focus style handled below, else it follows boundaries of click-area */\n        }\n\n        :host .btn ::slotted(button) {\n          position: absolute;\n          visibility: hidden;\n        }\n\n        .click-area {\n          position: absolute;\n          top: 0;\n          right: 0;\n          bottom: 0;\n          left: 0;\n          margin: -3px -1px;\n          padding: 0;\n        }\n\n        :host(:focus) .btn {\n          /* if you extend, please overwrite */\n          outline: 2px solid #bde4ff;\n        }\n\n        :host(:hover) .btn {\n          /* if you extend, please overwrite */\n          background: #f4f6f7;\n        }\n\n        :host(:active) .btn, /* keep native :active to render quickly where possible */\n        :host([active]) .btn /* use custom [active] to fix IE11 */ {\n          /* if you extend, please overwrite */\n          background: gray;\n        }\n\n        :host([disabled]) {\n          pointer-events: none;\n        }\n\n        :host([disabled]) .btn {\n          /* if you extend, please overwrite */\n          background: lightgray;\n          color: #adadad;\n          fill: #adadad;\n        }\n      "]);_templateObject4_3e706b50daed11e9a5da410a63411485=function _templateObject4_3e706b50daed11e9a5da410a63411485(){return data};return data}function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){keys.push.apply(keys,Object.getOwnPropertySymbols(object))}if(enumerableOnly)keys=keys.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable});return keys}function _objectSpread(target){for(var i=1,source;i<arguments.length;i++){source=null!=arguments[i]?arguments[i]:{};if(i%2){ownKeys(source,!0).forEach(function(key){babelHelpers.defineProperty(target,key,source[key])})}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source))}else{ownKeys(source).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))})}}return target}function _templateObject3_3e706b50daed11e9a5da410a63411485(){var data=babelHelpers.taggedTemplateLiteral([""]);_templateObject3_3e706b50daed11e9a5da410a63411485=function _templateObject3_3e706b50daed11e9a5da410a63411485(){return data};return data}function _templateObject2_3e706b50daed11e9a5da410a63411485(){var data=babelHelpers.taggedTemplateLiteral([""]);_templateObject2_3e706b50daed11e9a5da410a63411485=function _templateObject2_3e706b50daed11e9a5da410a63411485(){return data};return data}function _templateObject_3e706b50daed11e9a5da410a63411485(){var data=babelHelpers.taggedTemplateLiteral(["\n      <div class=\"btn\">\n        ","\n        <slot></slot>\n        ","\n        <slot name=\"_button\"></slot>\n        <div class=\"click-area\"></div>\n      </div>\n    "]);_templateObject_3e706b50daed11e9a5da410a63411485=function _templateObject_3e706b50daed11e9a5da410a63411485(){return data};return data}var LionButton=/*#__PURE__*/function(_DisabledWithTabIndex){babelHelpers.inherits(LionButton,_DisabledWithTabIndex);babelHelpers.createClass(LionButton,[{key:"render",value:function render(){return(0,_index.html)(_templateObject_3e706b50daed11e9a5da410a63411485(),this._renderBefore(),this._renderAfter())}// eslint-disable-next-line class-methods-use-this
},{key:"_renderBefore",value:function _renderBefore(){return(0,_index.html)(_templateObject2_3e706b50daed11e9a5da410a63411485())}// eslint-disable-next-line class-methods-use-this
},{key:"_renderAfter",value:function _renderAfter(){return(0,_index.html)(_templateObject3_3e706b50daed11e9a5da410a63411485())}},{key:"delegations",get:function get(){var _this2=this;return _objectSpread({},babelHelpers.get(babelHelpers.getPrototypeOf(LionButton.prototype),"delegations",this),{target:function target(){return _this2.$$slot("_button")},attributes:["type"]})}},{key:"slots",get:function get(){var _this3=this;return _objectSpread({},babelHelpers.get(babelHelpers.getPrototypeOf(LionButton.prototype),"slots",this),{_button:function _button(){if(!_this3.constructor._button){_this3.constructor._button=document.createElement("button");_this3.constructor._button.setAttribute("slot","_button");_this3.constructor._button.setAttribute("tabindex","-1")}return _this3.constructor._button.cloneNode()}})}}],[{key:"properties",get:function get(){return{role:{type:String,reflect:!0},active:{type:Boolean,reflect:!0}}}},{key:"styles",get:function get(){return[(0,_index.css)(_templateObject4_3e706b50daed11e9a5da410a63411485())]}}]);function LionButton(){var _this;babelHelpers.classCallCheck(this,LionButton);_this=babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(LionButton).call(this));_this.role="button";_this.active=!1;_this.__setupDelegationInConstructor();return _this}babelHelpers.createClass(LionButton,[{key:"connectedCallback",value:function connectedCallback(){babelHelpers.get(babelHelpers.getPrototypeOf(LionButton.prototype),"connectedCallback",this).call(this);this.__setupEvents()}},{key:"disconnectedCallback",value:function disconnectedCallback(){babelHelpers.get(babelHelpers.getPrototypeOf(LionButton.prototype),"disconnectedCallback",this).call(this);this.__teardownEvents()}},{key:"_redispatchClickEvent",value:function _redispatchClickEvent(oldEvent){// replacing `MouseEvent` with `oldEvent.constructor` breaks IE
var newEvent=new MouseEvent(oldEvent.type,oldEvent);newEvent.__isRedispatchedOnNativeButton=!0;this.__enforceHostEventTarget(newEvent);this.$$slot("_button").dispatchEvent(newEvent)}/**
   * Prevent normal click and redispatch click on the native button unless already redispatched.
   */},{key:"__clickDelegationHandler",value:function __clickDelegationHandler(e){if(!e.__isRedispatchedOnNativeButton){e.stopImmediatePropagation();this._redispatchClickEvent(e)}}},{key:"__enforceHostEventTarget",value:function __enforceHostEventTarget(event){var _this4=this;try{// this is for IE11 (and works in others), because `Object.defineProperty` does not give any effect there
event.__defineGetter__("target",function(){return _this4});// eslint-disable-line no-restricted-properties
}catch(error){// in case `__defineGetter__` is removed from the platform
Object.defineProperty(event,"target",{writable:!1,value:this})}}},{key:"__setupDelegationInConstructor",value:function __setupDelegationInConstructor(){// do not move to connectedCallback, otherwise IE11 breaks
// more info: https://github.com/ing-bank/lion/issues/179#issuecomment-511763835
this.addEventListener("click",this.__clickDelegationHandler,!0)}},{key:"__setupEvents",value:function __setupEvents(){this.addEventListener("mousedown",this.__mousedownHandler);this.addEventListener("keydown",this.__keydownHandler);this.addEventListener("keyup",this.__keyupHandler)}},{key:"__teardownEvents",value:function __teardownEvents(){this.removeEventListener("mousedown",this.__mousedownHandler);this.removeEventListener("keydown",this.__keydownHandler);this.removeEventListener("keyup",this.__keyupHandler)}},{key:"__mousedownHandler",value:function __mousedownHandler(){var _this5=this;this.active=!0;var mouseupHandler=function mouseupHandler(){_this5.active=!1;document.removeEventListener("mouseup",mouseupHandler)};document.addEventListener("mouseup",mouseupHandler)}},{key:"__keydownHandler",value:function __keydownHandler(e){var _this6=this;if(this.active||!this.__isKeyboardClickEvent(e)){return}this.active=!0;var keyupHandler=function keyupHandler(keyupEvent){if(_this6.__isKeyboardClickEvent(keyupEvent)){_this6.active=!1;document.removeEventListener("keyup",keyupHandler,!0)}};document.addEventListener("keyup",keyupHandler,!0)}},{key:"__keyupHandler",value:function __keyupHandler(e){if(this.__isKeyboardClickEvent(e)){// redispatch click
this.shadowRoot.querySelector(".click-area").click()}}// eslint-disable-next-line class-methods-use-this
},{key:"__isKeyboardClickEvent",value:function __isKeyboardClickEvent(e){return 32===e.keyCode/* space */||13===e.keyCode/* enter */}}]);return LionButton}((0,_index.DisabledWithTabIndexMixin)((0,_index.DelegateMixin)((0,_index.SlotMixin)(_LionLitElement.LionLitElement))));_exports.LionButton=LionButton});